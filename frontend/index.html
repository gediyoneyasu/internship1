<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="page-title">Hadiya Zone Transport Bureau</title>
    <script>
        // For local testing: ensure frontend uses the local backend for API and uploads
        window.API_BASE_URL = window.API_BASE_URL || 'http://localhost:3016/api';
    </script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* ====== GLOBAL STYLES ====== */
        * {
            font-family: "Poppins", sans-serif;
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-blue: #1e78ff;
            --accent-yellow: #e4ff30;
            --accent-orange: #ff9f0e;
            --gold-color: #D0A31C;
            --dark-bg: #061e29;
            --light-gray: #f8f9fa;
            --dark-gray: #333;
            --shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            --transition: all 0.3s ease;
        }

        body {
            overflow-x: hidden;
            min-height: 100vh;
            background-color: #c7e7f7;
            width: 100%;
        }

        img {
            max-width: 100%;
            height: auto;
        }

        .page-section {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .page-section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* ====== NAVBAR ====== */
        nav {
            position: fixed;
            width: 100%;
            padding: 1rem 5%;
            background: rgb(5, 66, 159);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(15px);
            display: flex;
            align-items: center;
            justify-content: space-between;
            height: 70px;
            font-size: 1rem;
            z-index: 1000;
            top: 0;
        }

        .nav-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            gap: 1rem;
        }

        .nav-log {
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .logo {
            font-size: 0.9rem;
            font-weight: 800;
            color: white;
            letter-spacing: 1px;
        }

        .logo p {
            font-size: 0.8rem;
            white-space: nowrap;
        }

        .img-log img {
            width: 50px;
            height: auto;
        }

        .nav-link {
            list-style: none;
            display: flex;
            gap: 1.5rem;
            align-items: center;
            text-align: center;
            margin: 0;
            padding: 0;
            transition: all 0.3s ease;
        }

        .nav-link li a {
            text-decoration: none;
            font-size: 0.9rem;
            font-weight: 500;
            color: aliceblue;
            transition: 0.3s;
            white-space: nowrap;
            cursor: pointer;
        }

        .nav-link li a:hover,
        .nav-link li a.active {
            color: rgb(255, 187, 0);
            text-shadow: 0 0 10px rgb(254, 229, 0);
        }

        .nav-right {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .menu-toggle {
            display: none;
            flex-direction: column;
            cursor: pointer;
            width: 30px;
            height: 24px;
            justify-content: space-between;
            background: transparent;
            border: none;
            padding: 0;
            z-index: 1001;
        }

        .menu-toggle span {
            display: block;
            height: 3px;
            width: 100%;
            background-color: white;
            border-radius: 2px;
            transition: all 0.3s ease;
        }

        .language-switcher {
            position: relative;
            margin-left: 20px;
            z-index: 1000;
        }

        .language-btn {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 500;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
            font-size: 0.9rem;
            min-width: 120px;
            justify-content: space-between;
        }

        .language-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            border-color: rgba(255, 255, 255, 0.5);
        }

        .language-dropdown {
            position: absolute;
            top: 100%;
            right: 0;
            background: rgba(30, 120, 255, 0.95);
            border-radius: 10px;
            padding: 10px 0;
            min-width: 150px;
            display: none;
            z-index: 1000;
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            margin-top: 5px;
        }

        .language-dropdown.show {
            display: block;
        }

        .lang-option {
            background: none;
            border: none;
            color: white;
            padding: 10px 20px;
            width: 100%;
            text-align: left;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }

        .lang-option:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .back {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            background-image: url(images/nn.png);
            background-repeat: no-repeat;
            background-size: cover;
            background-position: center;
            z-index: -1;
            filter: blur(1.4px);
        }

        .hero-section {
            position: relative;
            margin-top: 150px;
            padding: 0 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            gap: 30px;
            height: 70vh;
        }

        .log-center img {
            width: 150px;
            height: auto;
            margin-bottom: 20px;
        }

        .title {
            color: #e4ff30;
            font-weight: 600;
            font-size: 1.8rem;
            line-height: 1.4;
            margin-bottom: 30px;
            max-width: 800px;
        }

        .statics {
            width: 90%;
            max-width: 1200px;
            background-color: aliceblue;
            margin: 30px auto;
            border-radius: 25px;
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            align-items: center;
            justify-content: center;
            padding: 20px;
            box-shadow: 5px 5px 45px rgba(156, 153, 153, 0.2);
        }

        .right, .left, .center {
            min-height: 80px;
            flex: 1;
            min-width: 200px;
            display: flex;
            justify-content: center;
            align-items: center;
            text-align: center;
            border-left: 5px solid #1e78ff;
            padding: 15px;
            font-size: 1.1rem;
            font-weight: 500;
        }

        .right {
            border: none;
        }

        .well-come {
            padding: 40px 20px;
            background-color: #c7e7f7;
            text-align: center;
        }

        .well-come h2 {
            font-size: 1.5rem;
            margin-bottom: 15px;
            padding: 0 10px;
        }

        .sub-title {
            font-size: 1rem;
            font-weight: 300;
            margin-bottom: 30px;
            color: #333;
        }

        .well-come h4 {
            font-size: 1.3rem;
            margin-bottom: 30px;
            color: #1e78ff;
        }

        .head-message {
            display: flex;
            justify-content: center;
            flex-direction: column;
            gap: 2rem;
            max-width: 1200px;
            margin: 0 auto;
            align-items: center;
        }

        .img-message img {
            width: 100%;
            max-width: 400px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .text-message {
            font-size: 1rem;
            line-height: 1.6;
            text-align: left;
            padding: 0 15px;
        }

        .news-p {
            color: black;
            font-size: 2rem;
            text-align: center;
            margin: 40px 0 20px;
            padding: 0 20px;
        }

        .home-news {
            display: flex;
            flex-wrap: wrap;
            gap: 2rem;
            padding: 20px;
            justify-content: center;
            max-width: 1400px;
            margin: 0 auto;
        }

        .news-section {
            flex: 1;
            min-width: 300px;
            max-width: 400px;
            height: auto;
            padding: 1rem;
            box-shadow: 5px 10px 20px rgba(184, 176, 176, 0.2);
            border-radius: 10px;
            background-color: white;
            margin-bottom: 20px;
        }

        .news-img img {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-radius: 8px;
        }

        .news-text h5 {
            margin: 15px 0;
            padding: 0;
            font-size: 1.1rem;
            line-height: 1.5;
            min-height: 120px;
        }

        .read {
            height: 40px;
            width: 120px;
            border-style: none;
            background-image: linear-gradient(to right, rgb(255, 132, 0) 10%, yellow 100%);
            color: black;
            border-radius: 50px;
            font-weight: 500;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .read:hover {
            transform: scale(1.05);
        }

        .about-us {
            padding: 40px 20px;
            max-width: 1200px;
            margin: 0 auto;
            text-align: center;
        }

        #about-p {
            color: black;
            font-size: 2rem;
            margin-bottom: 20px;
        }

        .about-btn {
            display: inline-block;
            border-radius: .25rem;
            text-transform: uppercase;
            font-style: normal;
            font-weight: 400;
            padding: 15px 30px;
            color: #fff;
            -webkit-clip-path: polygon(0 0,0 0,100% 0,100% 0,100% calc(100% - 15px),calc(100% - 15px) 100%,15px 100%,0 100%);
            clip-path: polygon(0 0,0 0,100% 0,100% 0,100% calc(100% - 15px),calc(100% - 15px) 100%,15px 100%,0 100%);
            height: 45px;
            font-size: 0.8rem;
            line-height: 14px;
            letter-spacing: 1.2px;
            transition: all 0.3s ease;
            background-image: linear-gradient(90deg,#1c1c1c,#6220fb);
            border: 0 solid;
            overflow: hidden;
            cursor: pointer;
            margin-top: 20px;
        }

        .page-header {
            background: linear-gradient(135deg, var(--gold-color), var(--dark-bg));
            color: white;
            padding: 120px 5% 60px;
            text-align: center;
            margin-bottom: 40px;
            position: relative;
            overflow: hidden;
            margin-top: 70px;
        }

        .page-title {
            font-size: 3rem;
            font-weight: 700;
            margin-bottom: 1rem;
            color: var(--accent-yellow);
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .page-subtitle {
            font-size: 1.2rem;
            max-width: 800px;
            margin: 0 auto;
            opacity: 0.9;
            line-height: 1.6;
        }

        .leadership-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 30px;
            padding: 0 5%;
            max-width: 1400px;
            margin: 0 auto 100px;
        }

        .leader-card {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: var(--transition);
            display: flex;
            flex-direction: column;
            height: 100%;
        }

        .leader-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 40px rgba(30, 120, 255, 0.2);
        }

        .leader-img {
            position: relative;
            height: 280px;
            overflow: hidden;
        }

        .leader-img img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }

        .leader-card:hover .leader-img img {
            transform: scale(1.1);
        }

        .leader-caption {
            padding: 1.2rem 1rem 0.8rem;
            background: linear-gradient(to bottom, rgba(30, 120, 255, 0.1), white);
            text-align: center;
        }

        .leader-name {
            font-size: 1.35rem;
            font-weight: 700;
            color: var(--gold-color);
            margin: 0;
        }

        .leader-title {
            display: block;
            font-size: 1rem;
            color: var(--dark-gray);
            margin-top: 0.4rem;
            font-weight: 500;
        }

        .leader-content {
            padding: 0 25px 25px;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }

        .leader-description {
            font-size: 1rem;
            line-height: 1.6;
            color: #555;
            margin-bottom: 20px;
            flex-grow: 1;
        }

        .feedback-btn {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: var(--gold-color);
            color: var(--dark-gray);
            padding: 12px 25px;
            border-radius: 30px;
            font-weight: 600;
            text-decoration: none;
            transition: var(--transition);
            align-self: flex-start;
            margin-top: auto;
        }

        .news-count {
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 10px 25px;
            display: inline-block;
            margin-top: 20px;
            font-weight: 600;
            border: 2px solid rgba(255, 255, 255, 0.3);
        }

        .news-filter {
            max-width: 1400px;
            margin: 0 auto 40px;
            padding: 0 5%;
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            justify-content: center;
        }

        .filter-btn {
            padding: 10px 25px;
            border: 2px solid var(--primary-blue);
            background: transparent;
            color: var(--primary-blue);
            border-radius: 30px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
        }

        .filter-btn:hover,
        .filter-btn.active {
            background: var(--primary-blue);
            color: white;
        }

        .news-date {
            position: absolute;
            top: 15px;
            right: 15px;
            background: rgba(30, 120, 255, 0.9);
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
            backdrop-filter: blur(10px);
        }

        .news-category {
            display: inline-block;
            background: linear-gradient(to right, var(--accent-orange), var(--accent-yellow));
            color: var(--dark-gray);
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
            margin-bottom: 15px;
            align-self: flex-start;
        }

        .contact-container {
            display: grid;
            grid-template-columns: 1fr 1.5fr;
            gap: 50px;
            max-width: 1400px;
            margin: 0 auto 80px;
            padding: 0 5%;
        }

        .contact-info,
        .contact-form-section {
            background: white;
            border-radius: 15px;
            padding: 40px;
            box-shadow: var(--shadow);
        }

        .contact-method {
            display: flex;
            align-items: flex-start;
            gap: 20px;
            margin-bottom: 30px;
            padding-bottom: 25px;
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
        }

        .contact-icon {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, var(--primary-blue), var(--dark-bg));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .contact-icon i {
            font-size: 1.5rem;
            color: white;
        }

        .contact-form {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .form-group.full-width {
            grid-column: 1 / -1;
        }

        .form-input, .form-textarea {
            padding: 15px 20px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 1rem;
            transition: var(--transition);
            background-color: #f9f9f9;
        }

        .submit-btn {
            grid-column: 1 / -1;
            background: linear-gradient(to right, var(--primary-blue), var(--dark-bg));
            color: white;
            border: none;
            padding: 18px 30px;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            margin-top: 10px;
        }

        .announcements-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(360px, 1fr));
            gap: 28px;
            padding: 0 5%;
            max-width: 1400px;
            margin: 0 auto 4rem;
        }

        .announcement-card {
            background: white;
            border-radius: 14px;
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: var(--transition);
            display: flex;
            flex-direction: column;
        }

        .announcement-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 14px 38px rgba(30, 120, 255, 0.2);
        }

        .announcement-card .card-image {
            width: 100%;
            height: 200px;
            overflow: hidden;
            background: #f0f0f0;
        }

        .announcement-card .card-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .announcement-card .card-content {
            padding: 1.5rem;
            flex: 1;
        }

        .announcement-card .card-title {
            font-size: 1.15rem;
            margin: 0 0 0.5rem;
            color: var(--dark-gray);
            line-height: 1.4;
        }

        .filter-container {
            max-width: 1400px;
            margin: 0 auto 30px;
            padding: 0 5%;
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            justify-content: center;
        }

        .read-more {
            background: none;
            border: none;
            color: var(--primary-blue);
            font-weight: 600;
            cursor: pointer;
            padding: 8px 0;
            font-size: 0.95rem;
        }

        .read-more:hover {
            text-decoration: underline;
        }

        .category-tag {
            background: linear-gradient(90deg, var(--accent-orange), var(--accent-yellow));
            color: #1a1a1a;
            padding: 5px 14px;
            border-radius: 30px;
            font-size: 0.8rem;
            font-weight: 600;
            margin-bottom: 1rem;
            align-self: flex-start;
        }

        .expanded-content {
            margin-top: 1.3rem;
            padding-top: 1rem;
            border-top: 1px solid #eee;
            font-size: 0.95rem;
            color: #444;
            line-height: 1.65;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.45s ease, opacity 0.4s ease;
            opacity: 0;
        }

        .expanded-content.show {
            max-height: 1400px;
            opacity: 1;
        }

        footer {
            background: var(--dark-bg);
            color: #f8f9fa;
            padding: 4rem 5% 2.5rem;
            margin-top: 60px;
        }

        .footer-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            gap: 3rem;
            max-width: 1340px;
            margin: 0 auto;
        }

        .footer-title {
            color: white;
            font-size: 1.05rem;
            margin-bottom: 1.4rem;
            font-weight: 600;
        }

        footer a {
            color: #d0d0d0;
            text-decoration: none;
            display: block;
            line-height: 2.2;
            font-size: 0.94rem;
            transition: color 0.3s ease;
            cursor: pointer;
        }

        footer a:hover {
            color: #ff4d4d;
        }

        .footer-bottom {
            text-align: center;
            margin-top: 3.5rem;
            padding-top: 1.8rem;
            border-top: 1px solid #333;
            font-size: 0.93rem;
            color: #aaa;
        }

        .admin-badge {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: var(--primary-blue);
            color: white;
            padding: 15px 25px;
            border-radius: 50px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.2);
            z-index: 9999;
            text-decoration: none;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .admin-badge:hover {
            background: var(--dark-bg);
        }

        @media (max-width: 768px) {
            .menu-toggle {
                display: flex;
                font-size: 0.9rem;
            }
                .logo p {
                font-size: 0.6rem;
            }

            .nav-link {
                position: fixed;
                top: 70px;
                left: 0;
                width: 100%;
                background: rgba(5, 66, 159, 0.98);
                backdrop-filter: blur(10px);
                flex-direction: column;
                padding: 20px;
                gap: 0;
                transform: translateY(-100%);
                opacity: 0;
                visibility: hidden;
                z-index: 999;
            }

            .nav-link.active {
                transform: translateY(0);
                opacity: 1;
                visibility: visible;
            }

            .nav-link li {
                width: 100%;
                text-align: center;
                border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            }

            .nav-link li a {
                display: block;
                padding: 15px 0;
                font-size: 1rem;
            }

            .hero-section {
                margin-top: 120px;
            }

            .title {
                font-size: 1.8rem;
            }

            .statics {
                flex-direction: column;
            }

            .right, .left, .center {
                min-width: 100%;
                border-left: none;
                border-bottom: 3px solid #1e78ff;
            }

            .contact-container {
                grid-template-columns: 1fr;
            }

            .contact-form {
                grid-template-columns: 1fr;
            }

            .leadership-grid {
                grid-template-columns: 1fr;
                padding: 0 20px;
            }

            .announcements-grid {
                grid-template-columns: 1fr;
            }

            .page-header {
                padding: 100px 5% 40px;
                margin-top: 70px;
            }

            .page-title {
                font-size: 2rem;
            }
             .img-log img {
                width: 50px;
            }
        }

        @media (max-width: 480px) {
            .logo p {
                font-size: 0.6rem;
            }

            .img-log img {
                width: 50px;
            }

            .language-btn {
                min-width: 50px;
                width: 50px;
                height: 25px;
                border-radius: 10px;
                justify-content: space-around;
                padding: 10px;
            }

            .language-btn span {
                display: none;
            }

            .title {
                font-size: 1.4rem;
            }
        }
    </style>
</head>
<body>
    <!-- Background Image -->
    <div class="back"></div>

    <!-- Navigation -->
    <nav>
        <div class="nav-container">
            <div class="nav-log">
                <div class="img-log">
                    <img src="images/logo.png" alt="Hadiya Zone Transport Logo" />
                </div>
                <div class="logo">
                    <p id="site-title">Hadiya Zone Transport Bureau</p>
                </div>
            </div>

            <button class="menu-toggle" id="menuToggle">
                <span></span>
                <span></span>
                <span></span>
            </button>

            <ul class="nav-link" id="navLinks">
                <li><a href="#" class="nav-link-item active" data-page="home" data-en="HOME" data-am="መነሻ">HOME</a></li>
                <li><a href="#" class="nav-link-item" data-page="leadership" data-en="LEADERSHIP" data-am="መሪነት">LEADERSHIP</a></li>
                <li><a href="#" class="nav-link-item" data-page="service" data-en="SERVICE" data-am="አገልግሎት">SERVICE</a></li>
                <li><a href="#" class="nav-link-item" data-page="news" data-en="NEWS" data-am="ዜና">NEWS</a></li>
                <li><a href="#" class="nav-link-item" data-page="announcements" data-en="ANNOUNCEMENTS" data-am="ማስታወቂያ">ANNOUNCEMENTS</a></li>
                <li><a href="#" class="nav-link-item" data-page="contact" data-en="CONTACT" data-am="መርጃ">CONTACT</a></li>
            </ul>

            <div class="nav-right">
                <div class="language-switcher">
                    <button class="language-btn" id="languageBtn">
                        <span class="current-lang">English</span>
                        <i class="fas fa-chevron-down"></i>
                    </button>
                    <div class="language-dropdown" id="languageDropdown">
                        <button class="lang-option" data-lang="en">
                            <span class="flag-icon"></span> English
                        </button>
                        <button class="lang-option" data-lang="am">
                            <span class="flag-icon"></span> አማርኛ
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Home Page -->
    <section id="home" class="page-section active">
        <div class="hero-section">
            <div class="log-center">
                <img src="images/logo.png" alt="Hadiya Zone Transport Logo" />
            </div>
            <div class="title-container">
                <p class="title">
                    <span data-en="Central Ethiopia Regional State Hadiyya Zone" data-am="በመካከለኛው ኢትዮጵያ ክልላዊ መንግሥት ሀድያ ዞን">Central Ethiopia Regional State Hadiyya Zone</span><br />
                    <span data-en="Transport & Road" data-am="ትራንስፖርትና መንገድ">Transport & Road</span><br />
                    <span data-en="Directive" data-am="መምሪያ">Directive</span>
                </p>
            </div>
        </div>

        <div class="statics" id="statistics-container"></div>

        <div class="well-come">
            <h2 data-en="Welcome to Hadiya Zone Transport Department official website page." data-am="ወደ ሀዲያ ዞን ትራንስፖርት ክፍል የይግባኝ ድረ-ገፅ ገፅ እንኳን ደህና መጡ።">
                Welcome to Hadiya Zone Transport Department official website page.
            </h2>
            <p class="sub-title" data-en="Vision for a Safe and Modern Transport System" data-am="ለደህንነቱ የተጠበቀ እና ዘመናዊ የትራንስፖርት ስርዓት ራእይ">
                Vision for a Safe and Modern Transport System
            </p>
            <h4 data-en="Message from the Head of the Department" data-am="ከክፍሉ ኃላፊ መልዕክት">
                Message from the Head of the Department
            </h4>

            <div class="head-message">
                <div class="img-message"><img src="images/b.jpg" alt="Head of Department" /></div>
                <div class="text-message">
                    <span data-en="Welcome to the Hadiya Zone Transport Department. It is a pleasure to connect with you through our official platform. Our department exists to serve the people of the Hadiya Zone by ensuring transportation services that are safe, reliable, and accessible for everyone. We are committed to improving public transport systems, enhancing road safety, and providing services that are transparent and responsive to the needs of our community. By working closely with transport operators, government partners, and the public, we aim to address challenges and create practical, long-lasting solutions. As our zone continues to grow, we are focused on building a modern and sustainable transport system that supports economic development and improves everyday mobility. We value public participation and welcome your feedback as we move forward together. Thank you for visiting the Hadiya Zone Transport Department. We look forward to serving you and working hand in hand to create a safer and more efficient transportation future for all." 
                        data-am="ወደ ሀዲያ ዞን ትራንስፖርት ክፍል እንኳን ደህና መጡ። በይግባኝ መድረካችን ላይ ከእርሶ ጋር በመገናኘት ደስታ ነው። ክፍላችን ለሀዲያ ዞን ህዝብ ደህንነቱ የተጠበቀ፣ አስተማማኝ እና ለሁሉም ተደራሽ የሆነ የትራንስፖርት አገልግሎት በመስጠት አገልግሎት ለመስጠት ይገኛል። የህዝብ ትራንስፖርት ስርዓቶችን ማሻሻል፣ የመንገድ ደህንነትን ማሳደግ እና ግልጽ እና ለማህበረሰባችን ፍላጎቶች ተግባራዊ የሆኑ አገልግሎቶችን በመስጠት ቁርጠኞች ነን። ከትራንስፖርት ኦፕሬተሮች፣ የመንግስት አጋሮች እና ከህዝብ ጋር በቅርበት በመስራት ችግሮችን ለመፍታት እና ተግባራዊ፣ ረጅም ጊዜ የሚቆዩ መፍትሄዎችን ለመፍጠር እንተጋለን። ዞናችን በማደግ ስለሚቀጥል የኢኮኖሚ ልማትን የሚደግፍ እና የዕለት ተዕለት ተላላፊነትን የሚያሻሽል ዘመናዊ እና ዘላቂ የትራንስፖርት ስርዓት በመገንባት ላይ እንተጋለን። የህዝብ ተሳትፎን እንጠቀማለን እና አብረን በመሄድ ላይ ሲሆን አስተያየቶቻችሁን እናስተናግዳለን። ሀዲያ ዞን ትራንስፖርት ክፍልን ስለተጎበኙ እናመሰግናለን። ለሁሉም የበለጠ ደህንነቱ የተጠበቀ እና ውጤታማ የትራንስፖርት ህውረት ለመፍጠር እርስ በእርስ በመስራት ለማገልገል እና ለመስራት እንጠብቃለን።">
                        Welcome to the Hadiya Zone Transport Department. It is a pleasure to connect with you through our official platform. Our department exists to serve the people of the Hadiya Zone by ensuring transportation services that are safe, reliable, and accessible for everyone. We are committed to improving public transport systems, enhancing road safety, and providing services that are transparent and responsive to the needs of our community. By working closely with transport operators, government partners, and the public, we aim to address challenges and create practical, long-lasting solutions. As our zone continues to grow, we are focused on building a modern and sustainable transport system that supports economic development and improves everyday mobility. We value public participation and welcome your feedback as we move forward together. Thank you for visiting the Hadiya Zone Transport Department. We look forward to serving you and working hand in hand to create a safer and more efficient transportation future for all.
                    </span>
                    <p class="Abel" data-en="[Mr. Abel Zewude]" data-am="[አቶ አቤል ዘውዴ]">[Mr. Abel Zewude]</p>
                    <p data-en="Head, Central Ethiopia Regional State Transport & Road Development Bureau" data-am="ኃላፊ፣ የመካከለኛው ኢትዮጵያ ክልላዊ መንግሥት ትራንስፖርት እና መንገድ ልማት ቢሮ">
                        Head, Central Ethiopia Regional State Transport & Road Development Bureau
                    </p>
                </div>
            </div>
        </div>

        <p class="news-p" data-en="Latest news" data-am="የቅርብ ጊዜ ዜና">Latest news</p>
        <div class="home-news" id="news-container"></div>

        <div class="about-us">
            <p id="about-p" data-en="About Us" data-am="ስለ እኛ">About Us</p>
            <p data-en="The Hadiya Zone Transport Department is a public government institution responsible for regulating, managing, and enhancing transportation services throughout the Hadiya Zone. Our mission is to ensure a safe, efficient, transparent, and accessible transport system that serves the needs of residents, businesses, and visitors alike. We are committed to improving mobility, promoting road safety, and supporting sustainable transportation development across the zone." 
                data-am="ሀዲያ ዞን ትራንስፖርት ክፍል በሀዲያ ዞን ውስጥ የትራንስፖርት አገልግሎቶችን በማስተዳደር፣ በማስተዳደር እና በማሻሻል ላይ ተጠሪው የህዝብ መንግሥት ተቋም ነው። ሚሽናችን የነዋሪዎች፣ ንግድ ድርጅቶች እና ጎብኚዎች ፍላጎት የሚያሟላ ደህንነቱ የተጠበቀ፣ ቀልጣፋ፣ ግልጽ እና ተደራሽ የሆነ የትራንስፖርት ስርዓት ማረጋገጥ ነው። ተላላፊነትን ማሻሻል፣ የመንገድ ደህንነትን ማስተዋወቅ እና በዞኑ ውስጥ ዘላቂ የትራንስፖርት ልማትን ለመደገፍ ቁርጠኞች ነን።">
                The Hadiya Zone Transport Department is a public government institution responsible for regulating, managing, and enhancing transportation services throughout the Hadiya Zone. Our mission is to ensure a safe, efficient, transparent, and accessible transport system that serves the needs of residents, businesses, and visitors alike. We are committed to improving mobility, promoting road safety, and supporting sustainable transportation development across the zone.
            </p>
            <button class="about-btn" data-en="Learn more." data-am="ተጨማሪ ይወቁ።">Learn more.</button>
        </div>
    </section>

    <!-- Leadership Page -->
    <section id="leadership" class="page-section">
        <header class="page-header">
            <h1 class="page-title" data-en="Bureau Leadership & Roles" data-am="የቢሮ መሪነት እና ተግባሮች">Bureau Leadership & Roles</h1>
            <p class="page-subtitle" data-en="The Hadiya Zone Transport Bureau is led by a dedicated team committed to safety, efficiency, transparency, and quality public service. Below are the key leaders guiding the bureau's mission and operations." 
               data-am="ሀዲያ ዞን ትራንስፖርት ቢሮ በደህንነት፣ ውጤታምነት፣ ግልጽነት እና ጥራት ያለው የህዝብ አገልግሎት ላይ ቁርጠኞች የሆኑ የተጣሩ ቡድን ይመራል። ከታች የቢሮውን ተልእኮ እና አሠራሮች የሚመሩ ቁልፍ መሪዎች አሉ።">
                The Hadiya Zone Transport Bureau is led by a dedicated team committed to safety, efficiency, transparency, and quality public service. Below are the key leaders guiding the bureau's mission and operations.
            </p>
        </header>
        <div class="leadership-grid" id="leadership-container"></div>
    </section>

    <!-- Service Page -->
    <section id="service" class="page-section">
        <header class="page-header">
            <h1 class="page-title" data-en="Our Services" data-am="አገልግሎቶቻችን">Our Services</h1>
            <p class="page-subtitle" data-en="We provide comprehensive transport and road development services to the Hadiya Zone community. Explore our range of services below." 
               data-am="ለሀዲያ ዞን ማህበረሰብ ሙሉ የትራንስፖርት እና የመንገድ ልማት አገልግሎቶችን እናቀርባለን። ከታች ያሉትን አገልግሎቶቻችን ይመልከቱ።">
                We provide comprehensive transport and road development services to the Hadiya Zone community. Explore our range of services below.
            </p>
        </header>
        <div style="max-width: 1200px; margin: 0 auto; padding: 40px 20px;">
            <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 24px;" id="services-container"></div>
        </div>
    </section>

    <!-- News Page -->
    <section id="news" class="page-section">
        <header class="page-header">
            <h1 class="page-title" data-en="Latest News & Updates" data-am="የቅርብ ጊዜ ዜና እና ዝማኔዎች">Latest News & Updates</h1>
            <p class="page-subtitle" data-en="Stay informed with the latest developments, announcements, and achievements from the Hadiya Zone Transport Bureau" data-am="ከሀዲያ ዞን ትራንስፖርት ቢሮ ከቅርብ ጊዜ እድገቶች፣ ማስታወቂያዎች እና ስኬቶች ጋር የተዘመኑ ይሁኑ">
                Stay informed with the latest developments, announcements, and achievements from the Hadiya Zone Transport Bureau
            </p>
            <div class="news-count" id="news-count"></div>
        </header>

        <div class="news-filter">
            <button class="filter-btn active" data-en="All News" data-am="ሁሉም ዜና">All News</button>
            <button class="filter-btn" data-en="Transport" data-am="ትራንስፖርት">Transport</button>
            <button class="filter-btn" data-en="Infrastructure" data-am="መሠረተ ልማት">Infrastructure</button>
            <button class="filter-btn" data-en="Safety" data-am="ደህንነት">Safety</button>
        </div>

        <div class="home-news" id="news-full-container"></div>
    </section>

    <!-- Announcements Page -->
    <section id="announcements" class="page-section">
        <header class="page-header">
            <h1 class="page-title" data-en="Announcements" data-am="ማስታወቂያዎች">Announcements</h1>
            <p class="page-subtitle" data-en="Latest notices, vacancies and media from Hadiya Zone Transport Bureau" data-am="ከሀዲያ ዞን ትራንስፖርት ቢሮ የቅርብ ጊዜ ማስታወቂያዎች፣ ባዶ የሥራ መደቦች እና ሚዲያ">
                Latest notices, vacancies and media from Hadiya Zone Transport Bureau
            </p>
        </header>

        <div class="filter-container">
            <button class="filter-btn active" data-filter="announcements" data-en="Announcements" data-am="ማስታወቂያዎች">Announcements</button>
            <button class="filter-btn" data-filter="vacancy" data-en="Vacancies" data-am="ባዶ የሥራ መደቦች">Vacancies</button>
            <button class="filter-btn" data-filter="media" data-en="Media & Gallery" data-am="ሚዲያ እና ጋለሪ">Media & Gallery</button>
        </div>

        <div class="announcements-grid" id="announcements-container"></div>
    </section>

    <!-- Contact Page -->
    <section id="contact" class="page-section">
        <header class="page-header">
            <h1 class="page-title" data-en="Contact Us" data-am="ያነጋግሩን">Contact Us</h1>
            <p class="page-subtitle" data-en="Get in touch with Hadiya Zone Transport Bureau for inquiries, feedback, or assistance with transport-related services" data-am="ለጥያቄዎች፣ አስተያየቶች ወይም እርዳታ ለትራንስፖርት አገልግሎቶች ከሀዲያ ዞን ትራንስፖርት ቢሮ ጋር ያግኙ">
                Get in touch with Hadiya Zone Transport Bureau for inquiries, feedback, or assistance with transport-related services
            </p>
        </header>

        <div class="contact-container">
            <div class="contact-info" id="contact-info-container"></div>

            <div class="contact-form-section">
                <h3 data-en="Send Us a Message" data-am="መልእክት ይላኩልን">Send Us a Message</h3>
                <p class="form-description" data-en="Fill out the form below and we'll get back to you as soon as possible. For urgent matters, please call our office directly." data-am="ከታች ያለውን ቅጽ ይሙሉ እና በተቻለ ፍጥነት እንመለስልዎታለን። ለአስቸኳይ ጉዳዮች፣ እባክዎ ቢሮችን በቀጥታ ይደውሉ።">
                    Fill out the form below and we'll get back to you as soon as possible. For urgent matters, please call our office directly.
                </p>

                <form class="contact-form" id="contactForm">
                    <div class="form-group">
                        <label class="form-label" for="firstName" data-en="First Name" data-am="የመጀመሪያ ስም">First Name</label>
                        <input type="text" id="firstName" name="first_name" class="form-input" required>
                    </div>

                    <div class="form-group">
                        <label class="form-label" for="lastName" data-en="Last Name" data-am="የአያት ስም">Last Name</label>
                        <input type="text" id="lastName" name="last_name" class="form-input" required>
                    </div>

                    <div class="form-group">
                        <label class="form-label" for="email" data-en="Email Address" data-am="ኢሜይል አድራሻ">Email Address</label>
                        <input type="email" id="email" name="email" class="form-input" required>
                    </div>

                    <div class="form-group">
                        <label class="form-label" for="phone" data-en="Phone Number" data-am="ስልክ ቁጥር">Phone Number</label>
                        <input type="tel" id="phone" name="phone" class="form-input">
                    </div>

                    <div class="form-group full-width">
                        <label class="form-label" for="subject" data-en="Subject" data-am="ርዕስ">Subject</label>
                        <input type="text" id="subject" name="subject" class="form-input">
                    </div>

                    <div class="form-group full-width">
                        <label class="form-label" for="contactTitle" data-en="Title (optional)" data-am="ርዕስ (አማርኛራጭ)">Title (optional)</label>
                        <input type="text" id="contactTitle" name="title" class="form-input">
                    </div>

                    <div class="form-group full-width">
                        <label class="form-label" for="message" data-en="Your Message / Description" data-am="መልእክትዎ / መግለጫ">Your Message / Description</label>
                        <textarea id="message" name="message" class="form-textarea" required></textarea>
                    </div>

                    <div class="form-group full-width">
                        <label class="form-label" for="contactAttachment" data-en="Attach image or video (optional)" data-am="ምስል ወይም ቪዲዮ ያያይዙ (አማርኛራጭ)">Attach image or video (optional)</label>
                        <input type="file" id="contactAttachment" name="attachment" class="form-input" accept="image/*,video/*">
                    </div>

                    <button type="submit" class="submit-btn">
                        <i class="fas fa-paper-plane"></i>
                        <span data-en="Send Message" data-am="መልእክት ይላኩ">Send Message</span>
                    </button>
                </form>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="footer-grid">
            <div>
                <h3 class="footer-title" id="footer-site-title">Hadiya Zone Transport Bureau</h3>
                <p data-en="Leading transportation services with safety and efficiency" data-am="በደህንነት እና በውጤታምነት የትራንስፖርት አገልግሎት መሪ">Leading transportation services with safety and efficiency</p>
            </div>

            <div>
                <h3 class="footer-title" data-en="Quick Links" data-am="ፈጣን አገናኞች">Quick Links</h3>
                <a href="#" class="footer-nav-link" data-page="home" data-en="Home" data-am="መነሻ">Home</a>
                <a href="#" class="footer-nav-link" data-page="leadership" data-en="Leadership" data-am="መሪነት">Leadership</a>
                <a href="#" class="footer-nav-link" data-page="service" data-en="Services" data-am="አገልግሎቶች">Services</a>
                <a href="#" class="footer-nav-link" data-page="news" data-en="News" data-am="ዜና">News</a>
                <a href="#" class="footer-nav-link" data-page="announcements" data-en="Announcements" data-am="ማስታወቂያ">Announcements</a>
                <a href="#" class="footer-nav-link" data-page="contact" data-en="Contact Us" data-am="ያነጋግሩን">Contact Us</a>
            </div>

            <div>
                <h3 class="footer-title" data-en="Contact Information" data-am="የእውቂያ መረጃ">Contact Information</h3>
                <p id="footer-address">Hossana, Hadiya Zone</p>
                <p id="footer-phone">Phone: +251 46 111 2000</p>
                <p id="footer-email">Email: info@hadiyatransport.gov.et</p>
            </div>
        </div>

        <div class="footer-bottom">
            <p data-en="© 2025 Hadiya Zone Transport Bureau. All rights reserved." data-am="© 2025 ሀዲያ ዞን ትራንስፖርት ቢሮ. ሁሉም መብቶች የተጠበቁ ናቸው.">
                © 2025 Hadiya Zone Transport Bureau. All rights reserved.
            </p>
        </div>
    </footer>

    <!-- Admin Access Badge -->
    <a href="/admin" class="admin-badge">
        <i class="fas fa-cog"></i>
        <span data-en="Admin Panel" data-am="የአስተዳደር ፓነል">Admin Panel</span>
    </a>

    <script>
        // ---------------------- STATE ----------------------
        let currentLanguage = localStorage.getItem('preferredLanguage') || 'en';
        let siteSettings = {};
        let statistics = {};
        let leaders = [];
        let services = [];
        let newsArticles = [];
        let announcements = [];

        // ---------------------- DOM ELEMENTS ----------------------
        const elements = {
            siteTitle: document.getElementById('site-title'),
            statisticsContainer: document.getElementById('statistics-container'),
            newsContainer: document.getElementById('news-container'),
            leadershipContainer: document.getElementById('leadership-container'),
            servicesContainer: document.getElementById('services-container'),
            newsFullContainer: document.getElementById('news-full-container'),
            announcementsContainer: document.getElementById('announcements-container'),
            contactInfoContainer: document.getElementById('contact-info-container'),
            newsCount: document.getElementById('news-count'),
            footerSiteTitle: document.getElementById('footer-site-title'),
            footerAddress: document.getElementById('footer-address'),
            footerPhone: document.getElementById('footer-phone'),
            footerEmail: document.getElementById('footer-email')
        };

        // ---------------------- API FETCH ----------------------
        const API_ROOT = (window.API_BASE_URL && window.API_BASE_URL.length) ? window.API_BASE_URL.replace(/\/$/, '') : '';
        function apiUrl(path) {
            if (!path.startsWith('/')) path = '/' + path;
            return API_ROOT ? API_ROOT + path : '/api' + path;
        }
        async function fetchAllData() {
            try {
                const [settingsRes, statsRes, leadersRes, servicesRes, newsRes, announcementsRes] = await Promise.all([
                    fetch(apiUrl('/settings')),
                    fetch(apiUrl('/statistics')),
                    fetch(apiUrl('/leaders')),
                    fetch(apiUrl('/services')),
                    fetch(apiUrl('/news')),
                    fetch(apiUrl('/announcements'))
                ]);

                const settings = await settingsRes.json();
                const stats = await statsRes.json();
                leaders = await leadersRes.json();
                services = await servicesRes.json();
                newsArticles = await newsRes.json();
                announcements = await announcementsRes.json();

                // Convert settings array to object
                settings.forEach(s => siteSettings[s.setting_key] = s);

                // Convert statistics array to object
                stats.forEach(s => statistics[s.stat_key] = s);

                renderAll();
            } catch (error) {
                console.error('Error fetching data:', error);
            }
        }

        // ---------------------- RENDER FUNCTIONS ----------------------
        function renderAll() {
            renderSiteTitle();
            renderStatistics();
            renderNewsPreview();
            renderLeadership();
            renderServices();
            renderNewsFull();
            renderAnnouncements();
            renderContactInfo();
            renderNewsCount();
            renderFooter();
            applyLanguage(currentLanguage);
        }

        function renderSiteTitle() {
            const title = currentLanguage === 'en'
                ? siteSettings.site_title?.setting_value_en || 'Hadiya Zone Transport Bureau'
                : siteSettings.site_title?.setting_value_am || 'ሀዲያ ዞን ትራንስፖርት ቢሮ';
            if (elements.siteTitle) elements.siteTitle.textContent = title;
            document.title = title;
        }

        function renderStatistics() {
            if (!elements.statisticsContainer) return;
            const stats = [
                { key: 'vehicles', labelEn: 'Vehicles', labelAm: 'ተሽከርካሪዎች', default: '5000' },
                { key: 'employees', labelEn: 'Employees', labelAm: 'ሰራተኞች', default: '340' },
                { key: 'mass_transport', labelEn: 'Mass Transport', labelAm: 'ጅምላ ትራንስፖርት', default: '20330' }
            ];

            elements.statisticsContainer.innerHTML = stats.map(stat => {
                const s = statistics[stat.key] || {};
                const value = s.stat_value || stat.default;
                const labelEn = s.label_en || stat.labelEn;
                const labelAm = s.label_am || stat.labelAm;
                const label = currentLanguage === 'en' ? labelEn : labelAm;
                return `<div class="${stat.key === 'vehicles' ? 'right' : stat.key === 'employees' ? 'center' : 'left'}">${label} ${value}</div>`;
            }).join('');
        }

        function renderNewsPreview() {
            if (!elements.newsContainer) return;
            const previewCount = 5;
            const news = newsArticles.slice(0, previewCount);
            elements.newsContainer.innerHTML = news.length ? news.map(createNewsCard).join('') : `
                <div class="news-section">
                    <div class="news-img"><img src="images/dn.jpg" alt="News" /></div>
                    <div class="news-text">
                        <h5 data-en="Latest news and updates will appear here." data-am="የቅርብ ጊዜ ዜና እና ዝማኔዎች እዚህ ይታያሉ።">Latest news and updates will appear here.</h5>
                        <button class="read"><a href="#" data-en="Read more" data-am="ተጨማሪ አንብብ">Read more</a></button>
                    </div>
                </div>
            `;
        }

        function createNewsCard(article) {
            const title = currentLanguage === 'en' ? article.title_en : article.title_am;
            const desc = currentLanguage === 'en' ? article.description_en : article.description_am;
            const shortDesc = desc.substring(0, 180) + (desc.length > 180 ? '...' : '');
            return `
                <div class="news-section">
                    <div class="news-img"><img src="${article.image_url ? article.image_url : 'images/dn.jpg'}" alt="${title}" /></div>
                    <div class="news-text">
                        <h5>${shortDesc}</h5>
                        <button class="read"><a href="#" data-news-id="${article.id}" data-en="Read more" data-am="ተጨማሪ አንብብ">Read more</a></button>
                    </div>
                </div>
            `;
        }

        function renderLeadership() {
            if (!elements.leadershipContainer) return;
            elements.leadershipContainer.innerHTML = leaders.length ? leaders.map(leader => {
                const name = leader.name;
                const title = currentLanguage === 'en' ? leader.title_en : leader.title_am;
                const description = currentLanguage === 'en' ? leader.description_en : leader.description_am;
                const image = leader.image_url || 'images/leader/me1.jpg';
                const email = leader.email || 'info@hadiyatransport.gov.et';
                return `
                    <div class="leader-card">
                        <div class="leader-img"><img src="${image}" alt="${name}"></div>
                        <div class="leader-caption">
                            <h3 class="leader-name">${name}</h3>
                            <span class="leader-title">${title}</span>
                        </div>
                        <div class="leader-content">
                            <p class="leader-description">${description || ''}</p>
                            ${leader.phone ? `<p style="margin: 10px;">Phone: ${leader.phone}</p>` : ''}
                            <a href="mailto:${email}" class="feedback-btn">
                                <span data-en="Send Feedback" data-am="አስተያየት ይላኩ">Send Feedback</span> <i class="fas fa-paper-plane"></i>
                            </a>
                        </div>
                    </div>
                `;
            }).join('') : `
                <div class="leader-card">
                    <div class="leader-img"><img src="images/leader/me1.jpg" alt="Abel Zewude"></div>
                    <div class="leader-caption"><h3 class="leader-name">Abel Zewude</h3><span class="leader-title">Head of Department</span></div>
                    <div class="leader-content">
                        <p class="leader-description">Provides overall leadership and strategic direction for the Transport Bureau.</p>
                        <a href="mailto:info@hadiyatransport.gov.et" class="feedback-btn"><span>Send Feedback</span> <i class="fas fa-paper-plane"></i></a>
                    </div>
                </div>
            `;
        }

        function renderServices() {
            if (!elements.servicesContainer) return;
            elements.servicesContainer.innerHTML = services.length ? services.map(service => {
                const title = currentLanguage === 'en' ? service.title_en : service.title_am;
                const description = currentLanguage === 'en' ? service.description_en : service.description_am;
                return `
                    <div style="background: white; border-radius: 14px; padding: 24px; box-shadow: 0 4px 20px rgba(0,0,0,0.08); transition: transform 0.3s ease;">
                        <div style="width: 56px; height: 56px; background: linear-gradient(135deg, #1e78ff, #061e29); border-radius: 12px; display: flex; align-items: center; justify-content: center; margin-bottom: 16px;">
                            <i class="fas ${service.icon || 'fa-cog'}" style="color: white; font-size: 1.5rem;"></i>
                        </div>
                        <h3 style="margin: 0 0 10px; font-size: 1.2rem;">${title}</h3>
                        <p style="color: #555; margin: 0; line-height: 1.5;">${description || ''}</p>
                    </div>
                `;
            }).join('') : `
                <div style="background: white; border-radius: 14px; padding: 24px; box-shadow: 0 4px 20px rgba(0,0,0,0.08);">
                    <div style="width: 56px; height: 56px; background: linear-gradient(135deg, #1e78ff, #061e29); border-radius: 12px; display: flex; align-items: center; justify-content: center; margin-bottom: 16px;">
                        <i class="fas fa-car" style="color: white; font-size: 1.5rem;"></i>
                    </div>
                    <h3 style="margin: 0 0 10px; font-size: 1.2rem;">Vehicle Registration</h3>
                    <p style="color: #555; margin: 0; line-height: 1.5;">Register new vehicles and renew registrations online.</p>
                </div>
            `;
        }

        function renderNewsFull() {
            if (!elements.newsFullContainer) return;
            elements.newsFullContainer.innerHTML = newsArticles.length ? newsArticles.map(createNewsCard).join('') : `
                <div class="news-section">
                    <div class="news-img"><img src="images/dn.jpg" alt="News" /></div>
                    <div class="news-text">
                        <h5>No news articles available.</h5>
                        <button class="read"><a href="#">Read more</a></button>
                    </div>
                </div>
            `;
        }

        function renderAnnouncements() {
            if (!elements.announcementsContainer) return;
            elements.announcementsContainer.innerHTML = announcements.length ? announcements.map(ann => {
                const title = currentLanguage === 'en' ? ann.title_en : ann.title_am;
                const description = currentLanguage === 'en' ? ann.description_en : ann.description_am;
                const shortDesc = description.substring(0, 120) + (description.length > 120 ? '...' : '');
                const typeLabel = currentLanguage === 'en' ? (ann.type_en || ann.type) : (ann.type_am || ann.type);
                const hasImage = ann.attachment_url && /\.(jpg|jpeg|png|gif|webp)$/i.test(ann.attachment_url);
                return `
                    <div class="announcement-card ${ann.type}-item">
                        ${hasImage ? `<div class="card-image"><img src="${ann.attachment_url}" alt="${title}"></div>` : ''}
                        <div class="card-content">
                            <span class="category-tag">${typeLabel}</span>
                            <h3 class="card-title">${title}</h3>
                            <p style="margin: 10px 0; color: #555;">${shortDesc}</p>
                            <button class="read-more" onclick="toggleExpandContent(this)">${currentLanguage === 'en' ? 'Read More' : 'ተጨማሪ አንብብ'} →</button>
                            <div class="expanded-content">
                                <p>${description}</p>
                                ${ann.attachment_url ? `<p><strong>${currentLanguage === 'en' ? 'Attachment' : 'ተቀላቂ'}:</strong> <a href="${ann.attachment_url}" target="_blank" style="color: var(--primary-blue);">${currentLanguage === 'en' ? 'Download' : 'አውርድ'}</a></p>` : ''}
                            </div>
                        </div>
                    </div>
                `;
            }).join('') : `
                <div class="announcement-card">
                    <div class="card-content">
                        <span class="category-tag">Announcement</span>
                        <h3 class="card-title">Welcome to Hadiya Transport</h3>
                        <p style="margin: 10px 0; color: #555;">Announcements will appear here when added by the administrator.</p>
                        <button class="read-more" onclick="toggleExpandContent(this)">Read More →</button>
                        <div class="expanded-content"><p>Announcements, vacancies, and media content will be available soon. Please check back later.</p></div>
                    </div>
                </div>
            `;
        }

        function renderContactInfo() {
            if (!elements.contactInfoContainer) return;
            const addressEn = siteSettings.contact_address?.setting_value_en || 'Hadiya Zone Transport Bureau, Hossana Town, Hadiya Zone, Ethiopia';
            const addressAm = siteSettings.contact_address?.setting_value_am || 'ሀዲያ ዞን ትራንስፖርት ቢሮ, ሆሳና ከተማ, ሀዲያ ዞን, ኢትዮጵያ';
            const phone = siteSettings.contact_phone?.setting_value_en || '+251 46 111 2233';
            const email = siteSettings.contact_email?.setting_value_en || 'info@hadiyatransport.gov.et';
            elements.contactInfoContainer.innerHTML = `
                <h3 data-en="Get in Touch" data-am="አግኙን">Get in Touch</h3>
                <div class="contact-method">
                    <div class="contact-icon"><i class="fas fa-map-marker-alt"></i></div>
                    <div class="contact-details">
                        <h4 data-en="Our Address" data-am="አድራሻችን">Our Address</h4>
                        <p>${currentLanguage === 'en' ? addressEn : addressAm}</p>
                    </div>
                </div>
                <div class="contact-method">
                    <div class="contact-icon"><i class="fas fa-phone-alt"></i></div>
                    <div class="contact-details">
                        <h4 data-en="Phone Number" data-am="ስልክ ቁጥር">Phone Number</h4>
                        <p>${phone}</p>
                        <a href="tel:${phone.replace(/\s/g, '')}" class="contact-link" data-en="Call Now" data-am="አሁን ይደውሉ">Call Now</a>
                    </div>
                </div>
                <div class="contact-method">
                    <div class="contact-icon"><i class="fas fa-envelope"></i></div>
                    <div class="contact-details">
                        <h4 data-en="Email Address" data-am="ኢሜይል አድራሻ">Email Address</h4>
                        <p>${email}</p>
                        <a href="mailto:${email}" class="contact-link" data-en="Send Email" data-am="ኢሜይል ይላኩ">Send Email</a>
                    </div>
                </div>
            `;
        }

        function renderNewsCount() {
            if (elements.newsCount) {
                const count = newsArticles.length;
                elements.newsCount.textContent = `${count} ${currentLanguage === 'en' ? 'News Articles' : 'የዜና መጣጥፎች'}`;
            }
        }

        function renderFooter() {
            const title = currentLanguage === 'en'
                ? siteSettings.site_title?.setting_value_en || 'Hadiya Zone Transport Bureau'
                : siteSettings.site_title?.setting_value_am || 'ሀዲያ ዞን ትራንስፖርት ቢሮ';
            if (elements.footerSiteTitle) elements.footerSiteTitle.textContent = title;

            const addressEn = siteSettings.contact_address?.setting_value_en || 'Hossana, Hadiya Zone';
            const addressAm = siteSettings.contact_address?.setting_value_am || 'ሆሳዕና, ሀዲያ ዞን';
            if (elements.footerAddress) elements.footerAddress.textContent = currentLanguage === 'en' ? addressEn : addressAm;

            const phone = siteSettings.contact_phone?.setting_value_en || '+251 46 111 2000';
            if (elements.footerPhone) elements.footerPhone.textContent = `Phone: ${phone}`;

            const email = siteSettings.contact_email?.setting_value_en || 'info@hadiyatransport.gov.et';
            if (elements.footerEmail) elements.footerEmail.textContent = `Email: ${email}`;
        }

        // ---------------------- LANGUAGE ----------------------
        function applyLanguage(lang) {
            currentLanguage = lang;
            document.documentElement.lang = lang;
            localStorage.setItem('preferredLanguage', lang);

            document.querySelectorAll('[data-en], [data-am]').forEach(el => {
                if (el.hasAttribute('data-' + lang)) {
                    const translation = el.getAttribute('data-' + lang);
                    if (el.tagName === 'INPUT' || el.tagName === 'TEXTAREA') {
                        if (el.hasAttribute('placeholder')) el.placeholder = translation;
                        else el.value = translation;
                    } else if (el.tagName === 'IMG' && el.hasAttribute('alt')) {
                        el.alt = translation;
                    } else {
                        el.textContent = translation;
                    }
                }
            });

            const currentLangSpan = document.querySelector('.current-lang');
            if (currentLangSpan) {
                currentLangSpan.textContent = lang === 'en' ? 'English' : 'አማርኛ';
            }

            // Re-render dynamic content with new language
            renderAll();
        }

        function switchLanguage(lang) {
            applyLanguage(lang);
            fetch(apiUrl('/language'), {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ lang })
            }).catch(err => console.error('Error saving language preference:', err));
        }

        // ---------------------- NAVIGATION ----------------------
        function navigateToPage(pageId) {
            document.querySelectorAll('.page-section').forEach(s => s.classList.remove('active'));
            document.getElementById(pageId).classList.add('active');

            document.querySelectorAll('.nav-link-item').forEach(l => l.classList.remove('active'));
            const activeNav = document.querySelector(`.nav-link-item[data-page="${pageId}"]`);
            if (activeNav) activeNav.classList.add('active');

            document.getElementById('menuToggle')?.classList.remove('active');
            document.getElementById('navLinks')?.classList.remove('active');
            window.scrollTo(0, 0);
        }

        // ---------------------- EVENT HANDLERS ----------------------
        function toggleExpandContent(button) {
            const expandedContent = button.nextElementSibling;
            expandedContent.classList.toggle('show');
            if (expandedContent.classList.contains('show')) {
                button.innerHTML = button.innerHTML.replace('Read More', 'Read Less ↑')
                    .replace('ተጨማሪ አንብብ', 'በትንሹ አንብብ ↑');
            } else {
                button.innerHTML = button.innerHTML.replace('Read Less ↑', 'Read More →')
                    .replace('በትንሹ አንብብ ↑', 'ተጨማሪ አንብብ →');
            }
        }

        // ---------------------- INITIALIZATION ----------------------
        document.addEventListener('DOMContentLoaded', () => {
            fetchAllData();

            // Navigation
            document.querySelectorAll('.nav-link-item, .footer-nav-link').forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    const pageId = link.getAttribute('data-page');
                    navigateToPage(pageId);
                });
            });

            // Mobile menu
            const menuToggle = document.getElementById('menuToggle');
            const navLinks = document.getElementById('navLinks');
            menuToggle?.addEventListener('click', () => {
                menuToggle.classList.toggle('active');
                navLinks.classList.toggle('active');
            });

            // Language dropdown
            document.getElementById('languageBtn')?.addEventListener('click', (e) => {
                e.stopPropagation();
                document.getElementById('languageDropdown').classList.toggle('show');
            });

            document.querySelectorAll('.lang-option').forEach(option => {
                option.addEventListener('click', () => {
                    const lang = option.getAttribute('data-lang');
                    switchLanguage(lang);
                    document.getElementById('languageDropdown').classList.remove('show');
                });
            });

            document.addEventListener('click', (e) => {
                if (!e.target.closest('.language-switcher')) {
                    document.getElementById('languageDropdown')?.classList.remove('show');
                }
            });

            // Contact form submission
            document.getElementById('contactForm')?.addEventListener('submit', async (e) => {
                e.preventDefault();
                const formData = new FormData(e.target);
                try {
                    const response = await fetch(apiUrl('/contact'), { method: 'POST', body: formData });
                    const data = await response.json();
                    if (data.success) {
                        alert(currentLanguage === 'en'
                            ? 'Thank you for your message! We will get back to you soon.'
                            : 'መልእክትዎን ስላቀረቡ እናመሰግናለን! በቅርብ ጊዜ እንመለስልዎታለን።');
                        e.target.reset();
                    } else {
                        alert('Error sending message. Please try again.');
                    }
                } catch (error) {
                    console.error('Contact form error:', error);
                    alert('Error sending message. Please try again.');
                }
            });

            // News filter
            document.querySelectorAll('.news-filter .filter-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('.news-filter .filter-btn').forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    // In a real app you might filter by category; for now we just show all
                });
            });

            // Announcements filter
            document.querySelectorAll('.filter-container .filter-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('.filter-container .filter-btn').forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    const filter = this.getAttribute('data-filter');
                    const cards = document.querySelectorAll('.announcement-card');
                    cards.forEach(card => {
                        if (filter === 'announcements') card.style.display = 'flex';
                        else if (filter === 'vacancy') card.style.display = card.classList.contains('vacancy-item') ? 'flex' : 'none';
                        else if (filter === 'media') card.style.display = card.classList.contains('media-item') ? 'flex' : 'none';
                    });
                });
            });

            // About button
            document.querySelector('.about-btn')?.addEventListener('click', () => {
                alert(currentLanguage === 'en'
                    ? 'More information about Hadiya Zone Transport Bureau will be available soon.'
                    : 'ስለ ሀዲያ ዞን ትራንስፖርት ቢሮ ተጨማሪ መረጃ በቅርብ ጊዜ ይገኛል።');
            });

            // Set initial language
            applyLanguage(currentLanguage);
        });

        // Expose toggleExpandContent to global scope
        window.toggleExpandContent = toggleExpandContent;
    </script>
</body>
</html>